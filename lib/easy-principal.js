"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.servicePrincipalMap = exports.principalBase = exports.EasyServicePrincipal = void 0;
const aws_iam_1 = require("aws-cdk-lib/aws-iam");
const services_1 = require("./services");
const aws_iam_2 = require("aws-cdk-lib/aws-iam");
const principalBase = '.amazonaws.com';
exports.principalBase = principalBase;
const servicePrincipalMap = services_1.awsServices.reduce((map, service) => {
    const returnMap = map;
    returnMap[service] = `${service}${principalBase}`;
    return returnMap;
}, {});
exports.servicePrincipalMap = servicePrincipalMap;
class EasyServicePrincipal extends aws_iam_2.ServicePrincipal {
    static composite(services, opts) {
        return new aws_iam_1.CompositePrincipal(...services.map(service => EasyServicePrincipal.fromServiceName(service, opts)));
    }
    static fromServiceName(service, opts) {
        return new EasyServicePrincipal(servicePrincipalMap[service], opts);
    }
}
exports.EasyServicePrincipal = EasyServicePrincipal;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWFzeS1wcmluY2lwYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJlYXN5LXByaW5jaXBhbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxpREFBOEU7QUFDOUUseUNBQW9EO0FBQ3BELGlEQUFzRDtBQUV0RCxNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQTtBQW9CcEMsc0NBQWE7QUFsQmYsTUFBTSxtQkFBbUIsR0FBRyxzQkFBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUM5RCxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUE7SUFDckIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsT0FBTyxHQUFHLGFBQWEsRUFBRSxDQUFBO0lBQ2pELE9BQU8sU0FBUyxDQUFBO0FBQ2xCLENBQUMsRUFBRSxFQUFnQyxDQUFDLENBQUE7QUFlbEMsa0RBQW1CO0FBYnJCLE1BQU0sb0JBQXFCLFNBQVEsMEJBQWdCO0lBRWpELE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBc0IsRUFBRSxJQUEyQjtRQUNsRSxPQUFPLElBQUksNEJBQWtCLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsb0JBQW9CLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUE7SUFDakgsQ0FBQztJQUNELE1BQU0sQ0FBQyxlQUFlLENBQUMsT0FBbUIsRUFBRSxJQUEyQjtRQUNyRSxPQUFPLElBQUksb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDckUsQ0FBQztDQUNGO0FBR0Msb0RBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9zaXRlUHJpbmNpcGFsLCBTZXJ2aWNlUHJpbmNpcGFsT3B0cyB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1pYW0nXG5pbXBvcnQgeyBBd3NTZXJ2aWNlLCBhd3NTZXJ2aWNlcyB9IGZyb20gJy4vc2VydmljZXMnXG5pbXBvcnQgeyBTZXJ2aWNlUHJpbmNpcGFsIH0gZnJvbSAnYXdzLWNkay1saWIvYXdzLWlhbSdcblxuY29uc3QgcHJpbmNpcGFsQmFzZSA9ICcuYW1hem9uYXdzLmNvbSdcblxuY29uc3Qgc2VydmljZVByaW5jaXBhbE1hcCA9IGF3c1NlcnZpY2VzLnJlZHVjZSgobWFwLCBzZXJ2aWNlKSA9PiB7XG4gIGNvbnN0IHJldHVybk1hcCA9IG1hcFxuICByZXR1cm5NYXBbc2VydmljZV0gPSBgJHtzZXJ2aWNlfSR7cHJpbmNpcGFsQmFzZX1gXG4gIHJldHVybiByZXR1cm5NYXBcbn0sIHt9IGFzIFJlY29yZDxBd3NTZXJ2aWNlLCBzdHJpbmc+KVxuXG5jbGFzcyBFYXN5U2VydmljZVByaW5jaXBhbCBleHRlbmRzIFNlcnZpY2VQcmluY2lwYWwge1xuXG4gIHN0YXRpYyBjb21wb3NpdGUoc2VydmljZXM6IEF3c1NlcnZpY2VbXSwgb3B0cz86IFNlcnZpY2VQcmluY2lwYWxPcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wb3NpdGVQcmluY2lwYWwoLi4uc2VydmljZXMubWFwKHNlcnZpY2UgPT4gRWFzeVNlcnZpY2VQcmluY2lwYWwuZnJvbVNlcnZpY2VOYW1lKHNlcnZpY2UsIG9wdHMpKSApXG4gIH1cbiAgc3RhdGljIGZyb21TZXJ2aWNlTmFtZShzZXJ2aWNlOiBBd3NTZXJ2aWNlLCBvcHRzPzogU2VydmljZVByaW5jaXBhbE9wdHMpOiBFYXN5U2VydmljZVByaW5jaXBhbCB7XG4gICAgcmV0dXJuIG5ldyBFYXN5U2VydmljZVByaW5jaXBhbChzZXJ2aWNlUHJpbmNpcGFsTWFwW3NlcnZpY2VdLCBvcHRzKVxuICB9XG59XG5cbmV4cG9ydCB7XG4gIEVhc3lTZXJ2aWNlUHJpbmNpcGFsLFxuICBwcmluY2lwYWxCYXNlLFxuICBzZXJ2aWNlUHJpbmNpcGFsTWFwLFxufVxuIl19